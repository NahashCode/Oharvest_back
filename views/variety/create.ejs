<%- include('../partials/header'); %>

<body class="container">
    <%- include('../partials/aside') %>
    <main class="content">
        <h1>Création d'une nouvelle variété</h1>

        <form action="/admin/varieties/create" method="post">
            <% if(locals.error) {%>
                <div class="message is-danger">
                    <p class="message-body"><%= error.message %></p>
                </div>
            <% } %>
            <div class="field">
                <label class="label">Nom</label>
                <div class="control">
                    <input class="input" name="name" type="text" placeholder="Nom de la variété">
                </div>
            </div>
            <div class="field">
                <label class="label">Description</label>
                <div class="control">
                    <textarea class="textarea" name="description" id="description" cols="30" rows="10" placeholder="Description de la variété"></textarea>
                </div>
            </div>
            <%- include('../components/harvest_date_picker/create') %>
            <div class="field">
                <label for="product" class="label">Produit :</label>
                <select name="productId" id="product" class="select">
                    <% for (const product of products) { %>
                        <option value="<%= product.id %>"><%= product.name %></option>
                    <% } %>
                </select>
            </div>
            <div class="field is-grouped">
                <div class="control">
                    <button type="submit" class="button is-link">Enregistrer</button>
                </div>
                <div class="control">
                    <a href="/admin/varieties" class="button is-link is-light">Annuler</a>
                </div>
            </div>
        </form>
    </main>
</body>
</html>