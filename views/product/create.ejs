<%- include('../partials/header'); %>

<body class="container">
    <%- include('../partials/aside') %>
    <main class="content">
        <h1>Création d'un nouveau produit</h1>
        <form id="formProduct" action="/admin/products/create" method="post" enctype="multipart/form-data">
            <% if(locals.error) {%>
                <div class="message is-danger">
                    <p class="message-body"><%= error.message %></p>
                </div>
            <% } %>
            <div class="field">
                <label class="label">Nom</label>
                <div class="control">
                    <input class="input" name="name" type="text" placeholder="Nom du produit">
                </div>
            </div>
            <div class="field">
                <label class="label">Disponibilité</label>
                <div class="control">
                    <label class="radio">
                    <input type="radio" name="isAvailable" value="true">
                        Est disponible
                    </label>
                    <label class="radio">
                    <input type="radio" name="isAvailable" value="false" checked>
                        Non disponible
                    </label>
                </div>
            </div>
            <div class="field">
                <label class="label">Image</label>
                <div class="control">
                    <input class="input" name="image" type="file" accept="image/png, image/jpg, image/jpeg">
                </div>
            </div>
            <div class="field">
                <label class="label">Description</label>
                <div class="control">
                    <textarea class="textarea" name="description" id="description" cols="30" rows="10" placeholder="Description du produit"></textarea>
                </div>
            </div>
            <div class="field">
                <label class="label">Astuce</label>
                <div class="control">
                    <textarea class="textarea" name="tip" id="tip" cols="30" rows="10" placeholder="Astuce du produit"></textarea>
                </div>
            </div>
            <%- include('../components/harvest_date_picker/create') %>
            <div class="field">
                <label class="label">Appartient à la catégorie</label>
                <div class="control">
                    <select class="select" name="categoryId" id="categoryId">
                        <% for (category of categories) { %>
                            <option value="<%= category.id %>"><%= category.name %></option>
                        <% } %>
                    </select>
                </div>
            </div>
            <div class="field is-grouped">
                <div class="control">
                    <button type="submit" class="button is-link">Enregistrer</button>
                </div>
                <div class="control">
                    <a href="/admin/products" class="button is-link is-light">Annuler</a>
                </div>
            </div>
        </form>
    </main>
</body>
</html>